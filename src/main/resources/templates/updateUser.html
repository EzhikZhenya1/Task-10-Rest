<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3" lang="ru">
<head>
    <title>Update user</title>
</head>

<body>
    <form th:action="@{/logout}" method="post">
        <button type="submit">Logout</button>
    </form>
    <h1>Update user</h1>
    <form action="#" th:action="@{/admin/updateUser}" method="post">
        <input type="hidden" th:name="id" th:value="${user.id}">
        <table>
            <tr>
                <td><label for="username">Login</label> </td>
                <td><input type="text" id="username" th:value="${user.username}" placeholder="Username"></td>
            </tr>
            <tr>
                <td><label for="password">Password</label></td>
                <td><input type="password" id="password" name="password"></td>
            </tr>
            <tr>
                <td><label for="firstName">Name</label></td>
                <td><input type="text" id="firstName" name="firstName" th:value="${user.firstName}" placeholder="Name"></td>
            </tr>
            <tr>
                <td><label for="lastName">Surname</label></td>
                <td><input type="text" id="lastName" name="lastName" th:value="${user.lastName}" placeholder="Surname"></td>
            </tr>
            <tr>
                <td><label for="age">Age</label></td>
                <td><input type="number" id="age" name="age" th:value="${user.age}" placeholder="Age"></td>
            </tr>
            <tr>
                <td><label for="roles">Role</label></td>
                <td><select name="roles" id="roles" multiple="multiple">
                    <option th:each="role : ${roles}" th:value="${role.id}" th:text="${role.name}" th:selected="${#lists.contains(user.roles, role)}">

                    </option>
                </select> </td>
            </tr>
        </table>
        <div>
            <input type="submit" value="Update">
        </div>
    </form>
    <a th:href="@{/admin/}">
        <button>Назад</button>
    </a>
</body>

</html>